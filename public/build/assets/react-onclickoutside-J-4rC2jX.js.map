{"version":3,"file":"react-onclickoutside-J-4rC2jX.js","sources":["../../../node_modules/react-onclickoutside/dist/react-onclickoutside.es.js"],"sourcesContent":["import {createElement,Component}from'react';import {findDOMNode}from'react-dom';function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}/**\n * Check whether some DOM node is our Component's node.\n */\nfunction isNodeFound(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // SVG <use/> elements do not technically reside in the rendered DOM, so\n  // they do not have classList directly, but they offer a link to their\n  // corresponding element, which can have classList. This extra check is for\n  // that case.\n  // See: http://www.w3.org/TR/SVG11/struct.html#InterfaceSVGUseElement\n  // Discussion: https://github.com/Pomax/react-onclickoutside/pull/17\n\n\n  if (current.correspondingElement) {\n    return current.correspondingElement.classList.contains(ignoreClass);\n  }\n\n  return current.classList.contains(ignoreClass);\n}\n/**\n * Try to find our node in a hierarchy of nodes, returning the document\n * node as highest node if our node is not found in the path up.\n */\n\nfunction findHighest(current, componentNode, ignoreClass) {\n  if (current === componentNode) {\n    return true;\n  } // If source=local then this event came from 'somewhere'\n  // inside and should be ignored. We could handle this with\n  // a layered approach, too, but that requires going back to\n  // thinking in terms of Dom node nesting, running counter\n  // to React's 'you shouldn't care about the DOM' philosophy.\n  // Also cover shadowRoot node by checking current.host\n\n\n  while (current.parentNode || current.host) {\n    // Only check normal node without shadowRoot\n    if (current.parentNode && isNodeFound(current, componentNode, ignoreClass)) {\n      return true;\n    }\n\n    current = current.parentNode || current.host;\n  }\n\n  return current;\n}\n/**\n * Check if the browser scrollbar was clicked\n */\n\nfunction clickedScrollbar(evt) {\n  return document.documentElement.clientWidth <= evt.clientX || document.documentElement.clientHeight <= evt.clientY;\n}// ideally will get replaced with external dep\n// when rafrex/detect-passive-events#4 and rafrex/detect-passive-events#5 get merged in\nvar testPassiveEventSupport = function testPassiveEventSupport() {\n  if (typeof window === 'undefined' || typeof window.addEventListener !== 'function') {\n    return;\n  }\n\n  var passive = false;\n  var options = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passive = true;\n    }\n  });\n\n  var noop = function noop() {};\n\n  window.addEventListener('testPassiveEventSupport', noop, options);\n  window.removeEventListener('testPassiveEventSupport', noop, options);\n  return passive;\n};function autoInc(seed) {\n  if (seed === void 0) {\n    seed = 0;\n  }\n\n  return function () {\n    return ++seed;\n  };\n}\n\nvar uid = autoInc();var passiveEventSupport;\nvar handlersMap = {};\nvar enabledInstances = {};\nvar touchEvents = ['touchstart', 'touchmove'];\nvar IGNORE_CLASS_NAME = 'ignore-react-onclickoutside';\n/**\n * Options for addEventHandler and removeEventHandler\n */\n\nfunction getEventHandlerOptions(instance, eventName) {\n  var handlerOptions = {};\n  var isTouchEvent = touchEvents.indexOf(eventName) !== -1;\n\n  if (isTouchEvent && passiveEventSupport) {\n    handlerOptions.passive = !instance.props.preventDefault;\n  }\n\n  return handlerOptions;\n}\n/**\n * This function generates the HOC function that you'll use\n * in order to impart onOutsideClick listening to an\n * arbitrary component. It gets called at the end of the\n * bootstrapping code to yield an instance of the\n * onClickOutsideHOC function defined inside setupHOC().\n */\n\n\nfunction onClickOutsideHOC(WrappedComponent, config) {\n  var _class, _temp;\n\n  var componentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(onClickOutside, _Component);\n\n    function onClickOutside(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n\n      _this.__outsideClickHandler = function (event) {\n        if (typeof _this.__clickOutsideHandlerProp === 'function') {\n          _this.__clickOutsideHandlerProp(event);\n\n          return;\n        }\n\n        var instance = _this.getInstance();\n\n        if (typeof instance.props.handleClickOutside === 'function') {\n          instance.props.handleClickOutside(event);\n          return;\n        }\n\n        if (typeof instance.handleClickOutside === 'function') {\n          instance.handleClickOutside(event);\n          return;\n        }\n\n        throw new Error(\"WrappedComponent: \" + componentName + \" lacks a handleClickOutside(event) function for processing outside click events.\");\n      };\n\n      _this.__getComponentNode = function () {\n        var instance = _this.getInstance();\n\n        if (config && typeof config.setClickOutsideRef === 'function') {\n          return config.setClickOutsideRef()(instance);\n        }\n\n        if (typeof instance.setClickOutsideRef === 'function') {\n          return instance.setClickOutsideRef();\n        }\n\n        return findDOMNode(instance);\n      };\n\n      _this.enableOnClickOutside = function () {\n        if (typeof document === 'undefined' || enabledInstances[_this._uid]) {\n          return;\n        }\n\n        if (typeof passiveEventSupport === 'undefined') {\n          passiveEventSupport = testPassiveEventSupport();\n        }\n\n        enabledInstances[_this._uid] = true;\n        var events = _this.props.eventTypes;\n\n        if (!events.forEach) {\n          events = [events];\n        }\n\n        handlersMap[_this._uid] = function (event) {\n          if (_this.componentNode === null) return;\n\n          if (_this.props.preventDefault) {\n            event.preventDefault();\n          }\n\n          if (_this.props.stopPropagation) {\n            event.stopPropagation();\n          }\n\n          if (_this.props.excludeScrollbar && clickedScrollbar(event)) return;\n          var current = event.composed && event.composedPath && event.composedPath().shift() || event.target;\n\n          if (findHighest(current, _this.componentNode, _this.props.outsideClickIgnoreClass) !== document) {\n            return;\n          }\n\n          _this.__outsideClickHandler(event);\n        };\n\n        events.forEach(function (eventName) {\n          document.addEventListener(eventName, handlersMap[_this._uid], getEventHandlerOptions(_assertThisInitialized(_this), eventName));\n        });\n      };\n\n      _this.disableOnClickOutside = function () {\n        delete enabledInstances[_this._uid];\n        var fn = handlersMap[_this._uid];\n\n        if (fn && typeof document !== 'undefined') {\n          var events = _this.props.eventTypes;\n\n          if (!events.forEach) {\n            events = [events];\n          }\n\n          events.forEach(function (eventName) {\n            return document.removeEventListener(eventName, fn, getEventHandlerOptions(_assertThisInitialized(_this), eventName));\n          });\n          delete handlersMap[_this._uid];\n        }\n      };\n\n      _this.getRef = function (ref) {\n        return _this.instanceRef = ref;\n      };\n\n      _this._uid = uid();\n      return _this;\n    }\n    /**\n     * Access the WrappedComponent's instance.\n     */\n\n\n    var _proto = onClickOutside.prototype;\n\n    _proto.getInstance = function getInstance() {\n      if (WrappedComponent.prototype && !WrappedComponent.prototype.isReactComponent) {\n        return this;\n      }\n\n      var ref = this.instanceRef;\n      return ref.getInstance ? ref.getInstance() : ref;\n    };\n\n    /**\n     * Add click listeners to the current document,\n     * linked to this component's state.\n     */\n    _proto.componentDidMount = function componentDidMount() {\n      // If we are in an environment without a DOM such\n      // as shallow rendering or snapshots then we exit\n      // early to prevent any unhandled errors being thrown.\n      if (typeof document === 'undefined' || !document.createElement) {\n        return;\n      }\n\n      var instance = this.getInstance();\n\n      if (config && typeof config.handleClickOutside === 'function') {\n        this.__clickOutsideHandlerProp = config.handleClickOutside(instance);\n\n        if (typeof this.__clickOutsideHandlerProp !== 'function') {\n          throw new Error(\"WrappedComponent: \" + componentName + \" lacks a function for processing outside click events specified by the handleClickOutside config option.\");\n        }\n      }\n\n      this.componentNode = this.__getComponentNode(); // return early so we dont initiate onClickOutside\n\n      if (this.props.disableOnClickOutside) return;\n      this.enableOnClickOutside();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      this.componentNode = this.__getComponentNode();\n    }\n    /**\n     * Remove all document's event listeners for this component\n     */\n    ;\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      this.disableOnClickOutside();\n    }\n    /**\n     * Can be called to explicitly enable event listening\n     * for clicks and touches outside of this element.\n     */\n    ;\n\n    /**\n     * Pass-through render\n     */\n    _proto.render = function render() {\n      // eslint-disable-next-line no-unused-vars\n      var _this$props = this.props;\n          _this$props.excludeScrollbar;\n          var props = _objectWithoutPropertiesLoose(_this$props, [\"excludeScrollbar\"]);\n\n      if (WrappedComponent.prototype && WrappedComponent.prototype.isReactComponent) {\n        props.ref = this.getRef;\n      } else {\n        props.wrappedRef = this.getRef;\n      }\n\n      props.disableOnClickOutside = this.disableOnClickOutside;\n      props.enableOnClickOutside = this.enableOnClickOutside;\n      return createElement(WrappedComponent, props);\n    };\n\n    return onClickOutside;\n  }(Component), _class.displayName = \"OnClickOutside(\" + componentName + \")\", _class.defaultProps = {\n    eventTypes: ['mousedown', 'touchstart'],\n    excludeScrollbar: config && config.excludeScrollbar || false,\n    outsideClickIgnoreClass: IGNORE_CLASS_NAME,\n    preventDefault: false,\n    stopPropagation: false\n  }, _class.getClass = function () {\n    return WrappedComponent.getClass ? WrappedComponent.getClass() : WrappedComponent;\n  }, _temp;\n}export default onClickOutsideHOC;export{IGNORE_CLASS_NAME};"],"names":["_inheritsLoose","subClass","superClass","_setPrototypeOf","o","p","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","key","i","_assertThisInitialized","self","isNodeFound","current","componentNode","ignoreClass","findHighest","clickedScrollbar","evt","testPassiveEventSupport","passive","options","noop","autoInc","seed","uid","passiveEventSupport","handlersMap","enabledInstances","touchEvents","IGNORE_CLASS_NAME","getEventHandlerOptions","instance","eventName","handlerOptions","isTouchEvent","onClickOutsideHOC","WrappedComponent","config","_class","_temp","componentName","_Component","onClickOutside","props","_this","event","findDOMNode","events","fn","ref","_proto","_this$props","createElement","Component"],"mappings":"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","x_google_ignoreList":[0]}