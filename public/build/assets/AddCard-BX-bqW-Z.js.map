{"version":3,"file":"AddCard-BX-bqW-Z.js","sources":["../../../resources/js/Pages/Kanban/AddCard.jsx"],"sourcesContent":["import { motion } from \"framer-motion\";\nimport { useState } from \"react\";\nimport { FiPlus } from \"react-icons/fi\";\nimport { usePage, useForm } from '@inertiajs/react'\n\nconst AddCard = ({ column, temp_id, setCards }) => {\n    const { board_encrypted_id } = usePage().props\n\n    const { data, setData, post, processing, errors, reset } = useForm({\n        title: '',\n        card_id: ''\n    })\n\n    const [text, setText] = useState(\"\");\n    const [adding, setAdding] = useState(false);\n\n    const handleSubmit = (e) => {\n        const cardId = text.length + Date.now().toString()\n        data.title = text\n        data.card_id = cardId\n\n        e.preventDefault();\n\n        if (!text.trim().length) return;\n\n        const newCard = {\n            column,\n            title: text.trim(),\n            id: cardId,\n            card_id: cardId\n        };\n\n        post(`/board/${board_encrypted_id}/card/${temp_id}/${newCard.id}`)\n\n        setCards((pv) => [...pv, newCard]);\n\n        setAdding(false);\n    };\n\n    return (\n      <>\n        {adding ? (\n          <motion.form layout onSubmit={handleSubmit}>\n            <textarea\n                name=\"title\"\n                onChange={(e) => setText(e.target.value)}\n                autoFocus\n                placeholder=\"Add new task...\"\n                className=\"w-full rounded border border-gray-400 bg-gray-400/20 p-3 text-sm text-black placeholder-gray-300 focus:outline-0\"\n            />\n            <div className=\"mt-1.5 flex items-center justify-end gap-1.5\">\n              <button\n                onClick={() => setAdding(false)}\n                className=\"px-3 py-1.5 text-xs text-neutral-400 transition-colors hover:text-neutral-50\"\n              >\n                Close\n              </button>\n              <button\n                type=\"submit\"\n                className=\"flex items-center gap-1.5 rounded bg-neutral-50 px-3 py-1.5 text-xs text-neutral-950 transition-colors hover:bg-neutral-300\"\n              >\n                <span>Add</span>\n                <FiPlus />\n              </button>\n            </div>\n          </motion.form>\n        ) : (\n          <motion.button\n            layout\n            onClick={() => setAdding(true)}\n            className=\"flex w-full items-center gap-1.5 px-3 py-1.5 text-xs text-neutral-400 transition-colors hover:text-neutral-50\"\n          >\n            <span>Add card</span>\n            <FiPlus />\n          </motion.button>\n        )}\n      </>\n    );\n};\n\nexport default AddCard\n"],"names":["AddCard","column","temp_id","setCards","board_encrypted_id","usePage","data","setData","post","processing","errors","reset","useForm","text","setText","useState","adding","setAdding","handleSubmit","e","cardId","newCard","pv","jsx","Fragment","jsxs","motion","FiPlus"],"mappings":"4vCAKA,MAAMA,GAAU,CAAC,CAAE,OAAAC,EAAQ,QAAAC,EAAS,SAAAC,KAAe,CAC/C,KAAM,CAAE,mBAAAC,CAAA,EAAuBC,EAAA,EAAU,MAEnC,CAAE,KAAAC,EAAM,QAAAC,EAAS,KAAAC,EAAM,WAAAC,EAAY,OAAAC,EAAQ,MAAAC,GAAUC,EAAQ,CAC/D,MAAO,GACP,QAAS,EAAA,CACZ,EAEK,CAACC,EAAMC,CAAO,EAAIC,WAAS,EAAE,EAC7B,CAACC,EAAQC,CAAS,EAAIF,WAAS,EAAK,EAEpCG,EAAgBC,GAAM,CACxB,MAAMC,EAASP,EAAK,OAAS,KAAK,IAAA,EAAM,WAMpC,GALJP,EAAK,MAAQO,EACbP,EAAK,QAAUc,EAEfD,EAAE,eAAe,EAEb,CAACN,EAAK,KAAA,EAAO,OAAQ,OAEzB,MAAMQ,EAAU,CACZ,OAAApB,EACA,MAAOY,EAAK,KAAK,EACjB,GAAIO,EACJ,QAASA,CAAA,EAGbZ,EAAK,UAAUJ,CAAkB,SAASF,CAAO,IAAImB,EAAQ,EAAE,EAAE,EAEjElB,EAAUmB,GAAO,CAAC,GAAGA,EAAID,CAAO,CAAC,EAEjCJ,EAAU,EAAK,CAAA,EAIjB,OAAAM,EAAA,IAAAC,EAAA,SAAA,CACG,WACEC,EAAAA,KAAAC,EAAO,KAAP,CAAY,OAAM,GAAC,SAAUR,EAC5B,SAAA,CAAAK,EAAA,IAAC,WAAA,CACG,KAAK,QACL,SAAWJ,GAAML,EAAQK,EAAE,OAAO,KAAK,EACvC,UAAS,GACT,YAAY,kBACZ,UAAU,kHAAA,CACd,EACAM,EAAAA,KAAC,MAAI,CAAA,UAAU,+CACb,SAAA,CAAAF,EAAA,IAAC,SAAA,CACC,QAAS,IAAMN,EAAU,EAAK,EAC9B,UAAU,+EACX,SAAA,OAAA,CAED,EACAQ,EAAA,KAAC,SAAA,CACC,KAAK,SACL,UAAU,8HAEV,SAAA,CAAAF,EAAAA,IAAC,QAAK,SAAG,KAAA,CAAA,QACRI,EAAO,EAAA,CAAA,CAAA,CACV,CAAA,EACF,CAAA,CAAA,CACF,EAEAF,EAAA,KAACC,EAAO,OAAP,CACC,OAAM,GACN,QAAS,IAAMT,EAAU,EAAI,EAC7B,UAAU,gHAEV,SAAA,CAAAM,EAAAA,IAAC,QAAK,SAAQ,UAAA,CAAA,QACbI,EAAO,EAAA,CAAA,CAAA,CAGd,CAAA,CAAA,CAEN"}