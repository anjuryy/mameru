{"version":3,"file":"App-Brw11BJj.js","sources":["../../../resources/js/Pages/Fiber/App.jsx"],"sourcesContent":["import * as THREE from 'three'\nimport { useRef, useState } from 'react'\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { Image, ScrollControls, Scroll, useScroll, Box, PresentationControls, Sky } from '@react-three/drei'\nimport { proxy, useSnapshot } from 'valtio'\nimport { easing } from 'maath'\nimport Login from '../Auth/Login'\nimport Items from './Items'\n\nconst material = new THREE.LineBasicMaterial({ color: 'white' })\nconst geometry = new THREE.BufferGeometry().setFromPoints([new THREE.Vector3(0, -0.5, 0), new THREE.Vector3(0, 0.5, 0)])\nconst state = proxy({\n  clicked: null,\n  urls: ['./uploads/1711098941 - Copy', 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 5, 7, 8, 2, 4, 9, 6].map((u) => `/${u}.jpg`)\n})\n\nfunction Minimap() {\n  const ref = useRef()\n  const scroll = useScroll()\n  const { urls } = useSnapshot(state)\n  const { height } = useThree((state) => state.viewport)\n  useFrame((state, delta) => {\n    ref.current.children.forEach((child, index) => {\n      // Give me a value between 0 and 1\n      //   starting at the position of my item\n      //   ranging across 4 / total length\n      //   make it a sine, so the value goes from 0 to 1 to 0.\n      const y = scroll.curve(index / urls.length - 1.5 / urls.length, 4 / urls.length)\n      easing.damp(child.scale, 'y', 0.15 + y / 6, 0.15, delta)\n    })\n  })\n  return (\n    <group ref={ref}>\n      {urls.map((_, i) => (\n        <line key={i} geometry={geometry} material={material} position={[i * 0.06 - urls.length * 0.03, -height / 2 + 0.6, 0]} />\n      ))}\n    </group>\n  )\n}\n\nfunction Item({ index, position, scale, c = new THREE.Color(), ...props }) {\n  const ref = useRef()\n  const scroll = useScroll()\n  const { clicked, urls } = useSnapshot(state)\n  const [hovered, hover] = useState(false)\n  const click = () => (state.clicked = index === clicked ? null : index)\n  const over = () => hover(true)\n  const out = () => hover(false)\n  useFrame((state, delta) => {\n    const y = scroll.curve(index / urls.length - 1.5 / urls.length, 4 / urls.length)\n    easing.damp3(ref.current.scale, [clicked === index ? 4.7 : scale[0], clicked === index ? 5 : 4 + y, 1], 0.15, delta)\n    ref.current.material.scale[0] = ref.current.scale.x\n    ref.current.material.scale[1] = ref.current.scale.y\n    if (clicked !== null && index < clicked) easing.damp(ref.current.position, 'x', position[0] - 2, 0.15, delta)\n    if (clicked !== null && index > clicked) easing.damp(ref.current.position, 'x', position[0] + 2, 0.15, delta)\n    if (clicked === null || clicked === index) easing.damp(ref.current.position, 'x', position[0], 0.15, delta)\n    easing.damp(ref.current.material, 'grayscale', hovered || clicked === index ? 0 : Math.max(0, 1 - y), 0.15, delta)\n    easing.dampC(ref.current.material.color, hovered || clicked === index ? 'white' : '#aaa', hovered ? 0.3 : 0.15, delta)\n  })\n  return <Image ref={ref} {...props} position={position} scale={scale} onClick={click} onPointerOver={over} onPointerOut={out} />\n}\n\n// function Items({ w = 0.7, gap = 0.15 }) {\n//   const { urls } = useSnapshot(state)\n//   const { width } = useThree((state) => state.viewport)\n//   const xW = w + gap\n//   return (\n//     <ScrollControls horizontal damping={0.1} pages={(width - xW + urls.length * xW) / width}>\n//       <Minimap />\n//       <Scroll>\n//         {urls.map((url, i) => <Item key={i} index={i} position={[i * xW, 0, 0]} scale={[w, 4, 1]} url={url} />) /* prettier-ignore */}\n//       </Scroll>\n//     </ScrollControls>\n//   )\n// }\n\nexport const App = () => (\n    <>\n    <div>\n        <Canvas flat dpr={[1, 2]} camera={{ fov: 25, position: [0, 0, 8] }} style={{ height: '100vh' }}>\n            \n            <color attach=\"background\" args={['#FFFFFF']} />\n            <directionalLight\n              castShadow\n              position={ [ - 2, 2, 1 ] }\n              intensity={ 2 }\n              shadow-mapSize={ [ 1024, 1024 ] }\n              shadow-camera-near={ -2 }\n              shadow-camera-far={ 15 }\n              shadow-camera-top={ 10 }\n              shadow-camera-right={ 10 }\n              shadow-camera-bottom={ - 10 }\n              shadow-camera-left={ - 10 }\n          />\n            <ambientLight intensity={ 1.5 }/>\n            <PresentationControls snap global={false} zoom={0.8} rotation={[0, -Math.PI / 4, 0]} azimuth={[-Math.PI / 4, Math.PI / 4]}>\n              <group position-y={-0.75} dispose={null}>\n                {/* <Level />\n                <Sudo />\n                <Camera />\n                <Cactus />\n                <Icon />\n                <Pyramid /> */}\n                <Sky />\n                <Items />\n              </group>\n            </PresentationControls>\n        </Canvas>\n\n\n        {/* <Login /> */}\n    </div>\n        \n\n        \n    </>\n  \n)\n"],"names":["THREE.LineBasicMaterial","THREE.BufferGeometry","THREE.Vector3","proxy","u","App","jsx","Fragment","jsxs","Canvas","PresentationControls","Sky","Items"],"mappings":"g5CASiB,IAAIA,EAAwB,CAAE,MAAO,QAAS,EAC9C,IAAIC,IAAuB,cAAc,CAAC,IAAIC,EAAc,EAAG,IAAM,CAAC,EAAG,IAAIA,EAAc,EAAG,GAAK,CAAC,CAAC,CAAC,EACzGC,EAAM,CAClB,QAAS,KACT,KAAM,CAAC,8BAA+B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EAAE,IAAKC,GAAM,IAAIA,CAAC,MAAM,CAC1H,CAAC,EA8DM,MAAMC,EAAM,IAEfC,EAAAA,IAAAC,EAAAA,SAAA,CAAA,SAAAD,EAAA,IAAC,MACG,CAAA,SAAAE,EAAAA,KAACC,EAAO,CAAA,KAAI,GAAC,IAAK,CAAC,EAAG,CAAC,EAAG,OAAQ,CAAE,IAAK,GAAI,SAAU,CAAC,EAAG,EAAG,CAAC,CAAK,EAAA,MAAO,CAAE,OAAQ,OAEjF,EAAA,SAAA,CAAAH,EAAA,IAAC,SAAM,OAAO,aAAa,KAAM,CAAC,SAAS,EAAG,EAC9CA,EAAA,IAAC,mBAAA,CACC,WAAU,GACV,SAAW,CAAE,GAAK,EAAG,CAAE,EACvB,UAAY,EACZ,iBAAiB,CAAE,KAAM,IAAK,EAC9B,qBAAqB,GACrB,oBAAoB,GACpB,oBAAoB,GACpB,sBAAsB,GACtB,uBAAuB,IACvB,qBAAqB,GAAA,CACzB,EACEA,EAAAA,IAAC,eAAa,CAAA,UAAY,GAAK,CAAA,EAC9BA,EAAA,IAAAI,EAAA,CAAqB,KAAI,GAAC,OAAQ,GAAO,KAAM,GAAK,SAAU,CAAC,EAAG,CAAC,KAAK,GAAK,EAAG,CAAC,EAAG,QAAS,CAAC,CAAC,KAAK,GAAK,EAAG,KAAK,GAAK,CAAC,EACtH,SAACF,EAAAA,KAAA,QAAA,CAAM,aAAY,KAAO,QAAS,KAOjC,SAAA,CAAAF,EAAA,IAACK,EAAI,EAAA,QACJC,EAAM,EAAA,CAAA,CAAA,CACT,CACF,CAAA,CAAA,CACJ,CAAA,CAIJ,CAAA,CAIA,CAAA"}