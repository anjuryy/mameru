import{r as v,j as t}from"./react-sx29AbTn.js";import{B as p}from"./Box-CBRXTtzS.js";import{A as N}from"./AuthenticatedLayout-CU5aUw_m.js";import{q as i,W as b}from"./@inertiajs-BcDnMEQz.js";import w from"./ShopNavLink-rJtLErSN.js";import{S as q}from"./SecondaryButton-DdthBQzt.js";import{I}from"./InputLabel-DuvJxZIW.js";import{T as S}from"./TextInput-CrjTQlo-.js";import{P as _}from"./PrimaryButton-Dcnwtaro.js";import{I as A}from"./InputError-ByOj5Tse.js";import{A as k}from"./Alert-D3q0zcbX.js";import{g as B,P as C,H as P}from"./@heroicons-BgZHI5LU.js";import"./@react-three-DgTdwqeU.js";import"./@babel-CiGj-Vf4.js";import"./three-B80eBgu5.js";import"./react-use-measure-DqS0APVw.js";import"./debounce-DciVwxoN.js";import"./its-fine-D2pKCoLf.js";import"./react-reconciler-B-bMd730.js";import"./react-dom-Du9NRHKm.js";import"./scheduler-CzFDRTuY.js";import"./maath-D_z66-Ri.js";import"./@react-spring-DShVH7Kj.js";import"./@use-gesture-CsmORpGq.js";import"./three-stdlib-Bp2o0rHs.js";import"./zustand-91LAAO3n.js";import"./suspend-react-BKIKQNXN.js";import"./ApplicationLogo-CyvEzHvV.js";import"./Dropdown-OaX47zOT.js";import"./@headlessui-Bn4eTncm.js";import"./axios-Di5RpEPX.js";import"./deepmerge-DXKsM5sQ.js";import"./qs-BG7QPkPB.js";import"./side-channel-BAaar_F8.js";import"./get-intrinsic-B1Ut8WxJ.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-B8G-TZ45.js";import"./hasown-B9bXSDSU.js";import"./call-bind-Aj7T_c8u.js";import"./set-function-length-Ct5B6P4y.js";import"./define-data-property-CUxyvwXF.js";import"./es-define-property-28jGrh5V.js";import"./gopd-O61WwtTx.js";import"./has-property-descriptors-Cvfij9iw.js";import"./object-inspect-CDahDfvf.js";import"./nprogress-nWpVDP1_.js";import"./lodash.isequal-iay-Pe6C.js";import"./ShoppingCart-Bql3F_pB.js";import"./Search-oEeT2Pe_.js";function Ct({auth:n,flash:l}){const{product_detail:r}=i().props,{category:d}=i().props,{products:x}=i().props,{purchases:u}=i().props,{user_currency_setting:a}=i().props;var o="";const{data:D,setData:m,post:h,errors:f}=b({quantity:""}),[e,c]=v.useState(0),j=()=>{e<r.quantity&&(c(e+1),m("quantity",e+1))},g=()=>{e>0&&(c(e-1),m("quantity",e-1))},y=s=>{s.preventDefault(),h(route("purchase.store",r.id))};return t.jsxs(N,{user:n.user,children:[t.jsx(w,{category:d,products:x,purchases:u,userCurrencySetting:a}),t.jsx(k,{flash:l}),t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:t.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:t.jsxs("div",{className:"flex flex-col-reverse md:grid md:grid-cols-2 gap-4",children:[t.jsx(p,{className:"md:col-span-7 flex items-center",children:t.jsx("div",{className:"grid grid-cols-2 gap-1",children:r.images.map(s=>t.jsx("img",{className:"w-60 h-60",src:"../images/"+s.filename},s.id))})}),t.jsx("div",{className:"md:col-span-1 flex flex-col gap-4",children:t.jsxs(p,{children:["Product info",t.jsx("div",{className:"text-lg pt-2",children:r.name}),t.jsx("div",{className:"text-gray-500",children:r.description}),t.jsxs("div",{className:"text-2xl font-bold pt-4",children:[a[0].currency_converters.symbol," ",Math.floor(parseInt(r.price)/parseInt(a[0].currency_converters.value))]}),t.jsx("div",{className:"pt-4 pb-4",children:t.jsxs("span",{className:"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20",children:["Stock: ",r.quantity]})}),t.jsxs("form",{onSubmit:y,children:[t.jsxs("div",{className:"flex justify-start items-center gap-2",children:[t.jsx(I,{htmlFor:"quantity",value:"Quantity"}),t.jsx("div",{onClick:g,children:t.jsx(B,{className:"w-4 cursor-pointer"})}),t.jsx(S,{id:"quantity",name:"quantity",type:"text",className:"w-16",value:e,onChange:s=>m("quantity",s.target.value),style:{textAlign:"center"}}),t.jsx("div",{onClick:j,children:t.jsx(C,{className:"w-4 cursor-pointer"})}),t.jsx(A,{message:f.quantity,className:"mt-2"})]}),t.jsx("div",{className:"mt-4 text-red-600 italic text-sm",children:r.by_user_id==n.user.id?o="* This is your product":o=""}),t.jsxs("div",{className:"mt-4 w-full flex items-center justify-center gap-2",children:[t.jsx(_,{className:"w-4/6 items-center justify-center hover:bg-gray-800 hover:text-white",disabled:o,children:"Add to cart"}),t.jsx(q,{className:"w-2/6 items-center justify-center hover:bg-gray-200 hover:text-black",disabled:o,children:t.jsx(P,{className:"w-4"})})]})]})]})})]})})})})]})}export{Ct as default};
//# sourceMappingURL=Show-DkOWf0qF.js.map
