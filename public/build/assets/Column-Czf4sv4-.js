import{r as A,j as n}from"./react-uJq-X2VP.js";import S from"./AddCard-C_KdYYHx.js";import C from"./Card-BNV1LHuS.js";import"./@react-three-DCtOoYiB.js";import"./@babel-CiGj-Vf4.js";import"./three-CT44rtPH.js";import"./react-use-measure-D6pdOl5n.js";import"./debounce-BMt0QU6f.js";import"./its-fine-Au5rABnc.js";import"./react-reconciler-DzoFznAa.js";import"./react-dom-Bh-aC8ob.js";import"./scheduler-CzFDRTuY.js";import"./maath-DI14jEVk.js";import"./three-stdlib-CfCDiu8i.js";import"./zustand-BLf10dEA.js";import"./suspend-react-BKIKQNXN.js";import"./react-icons-C27Up6wS.js";import"./framer-motion-C6D8ncF8.js";import"./DropIndicator-BuJIL368.js";const Q=({title:I,headingColor:v,cards:p,column:c,setCards:u})=>{const[D,d]=A.useState(!1),N=(t,e)=>{t.dataTransfer.setData("cardId",e.id)},T=t=>{const e=t.dataTransfer.getData("cardId");d(!1),m();const s=f();console.log(c),console.log(document.querySelectorAll('[data-column="backlog"]'));const{element:x}=g(t,s),a=x.dataset.before||"-1";if(a!==e){let r=[...p],o=r.find(i=>i.id===e);if(!o)return;if(o={...o,column:c},r=r.filter(i=>i.id!==e),a==="-1")r.push(o);else{const i=r.findIndex(y=>y.id===a);if(i===void 0)return;r.splice(i,0,o)}u(r)}},j=t=>{t.preventDefault(),E(t),d(!0)},m=t=>{(t||f()).forEach(s=>{s.style.opacity="0"})},E=t=>{const e=f();m(e);const s=g(t,e);s.element.style.opacity="1"},g=(t,e)=>e.reduce((a,r)=>{const o=r.getBoundingClientRect(),l=t.clientY-(o.top+50);return l<0&&l>a.offset?{offset:l,element:r}:a},{offset:Number.NEGATIVE_INFINITY,element:e[e.length-1]}),f=()=>Array.from(document.querySelectorAll(`[data-column="${c}"]`)),b=()=>{m(),d(!1)},h=p.filter(t=>t.column===c);return n.jsxs("div",{className:"w-56 shrink-0",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h3",{className:`font-medium ${v}`,children:I}),n.jsx("span",{className:"rounded text-sm text-neutral-400",children:h.length})]}),n.jsxs("div",{onDrop:T,onDragOver:j,onDragLeave:b,className:`h-full w-full transition-colors ${D?"bg-neutral-800/50":"bg-neutral-800/0"}`,children:[h.map(t=>n.jsx(C,{...t,handleDragStart:N},t.id)),n.jsx(S,{column:c,setCards:u})]})]})};export{Q as default};
//# sourceMappingURL=Column-Czf4sv4-.js.map
