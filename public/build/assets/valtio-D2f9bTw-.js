import{h as W,y as B}from"./proxy-compare-DDw08AJZ.js";import"./react-sx29AbTn.js";var z={VITE_APP_NAME:"Mameru",VITE_PUSHER_APP_KEY:"",VITE_PUSHER_HOST:"",VITE_PUSHER_PORT:"443",VITE_PUSHER_SCHEME:"https",VITE_PUSHER_APP_CLUSTER:"mt1",BASE_URL:"/build/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const M=a=>typeof a=="object"&&a!==null,_=new WeakMap,b=new WeakSet,H=(a=Object.is,T=(t,l)=>new Proxy(t,l),j=t=>M(t)&&!b.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer),L=t=>{switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t}},m=new WeakMap,A=(t,l,u=L)=>{const o=m.get(t);if((o==null?void 0:o[0])===l)return o[1];const f=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return W(f,!0),m.set(t,[l,f]),Reflect.ownKeys(t).forEach(P=>{if(Object.getOwnPropertyDescriptor(f,P))return;const i=Reflect.get(t,P),E={value:i,enumerable:!0,configurable:!0};if(b.has(i))W(i,!1);else if(i instanceof Promise)delete E.value,E.get=()=>u(i);else if(_.has(i)){const[c,V]=_.get(i);E.value=A(c,V(),u)}Object.defineProperty(f,P,E)}),f},h=new WeakMap,R=[1,1],U=t=>{if(!M(t))throw new Error("object required");const l=h.get(t);if(l)return l;let u=R[0];const o=new Set,f=(s,r=++R[0])=>{u!==r&&(u=r,o.forEach(e=>e(s,r)))};let P=R[1];const i=(s=++R[1])=>(P!==s&&!o.size&&(P=s,c.forEach(([r])=>{const e=r[1](s);e>u&&(u=e)})),u),E=s=>(r,e)=>{const n=[...r];n[1]=[s,...n[1]],f(n,e)},c=new Map,V=(s,r)=>{if((z&&"production")!=="production"&&c.has(s))throw new Error("prop listener already exists");if(o.size){const e=r[3](E(s));c.set(s,[r,e])}else c.set(s,[r])},D=s=>{var r;const e=c.get(s);e&&(c.delete(s),(r=e[1])==null||r.call(e))},I=s=>(o.add(s),o.size===1&&c.forEach(([e,n],w)=>{if((z&&"production")!=="production"&&n)throw new Error("remove already exists");const y=e[3](E(w));c.set(w,[e,y])}),()=>{o.delete(s),o.size===0&&c.forEach(([e,n],w)=>{n&&(n(),c.set(w,[e]))})}),g=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t)),S=T(g,{deleteProperty(s,r){const e=Reflect.get(s,r);D(r);const n=Reflect.deleteProperty(s,r);return n&&f(["delete",[r],e]),n},set(s,r,e,n){const w=Reflect.has(s,r),y=Reflect.get(s,r,n);if(w&&(a(y,e)||h.has(e)&&a(y,h.get(e))))return!0;D(r),M(e)&&(e=B(e)||e);let O=e;if(e instanceof Promise)e.then(d=>{e.status="fulfilled",e.value=d,f(["resolve",[r],d])}).catch(d=>{e.status="rejected",e.reason=d,f(["reject",[r],d])});else{!_.has(e)&&j(e)&&(O=U(e));const d=!b.has(O)&&_.get(O);d&&V(r,d)}return Reflect.set(s,r,O,n),f(["set",[r],e,y]),!0}});h.set(t,S);const K=[g,i,A,I];return _.set(S,K),Reflect.ownKeys(t).forEach(s=>{const r=Object.getOwnPropertyDescriptor(t,s);"value"in r&&(S[s]=t[s],delete r.value,delete r.writable),Object.defineProperty(g,s,r)}),S})=>[U,_,b,a,T,j,L,m,A,h,R],[N]=H();function k(a={}){return N(a)}export{k as p};
//# sourceMappingURL=valtio-D2f9bTw-.js.map
