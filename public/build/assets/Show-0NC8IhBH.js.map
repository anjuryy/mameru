{"version":3,"file":"Show-0NC8IhBH.js","sources":["../../../resources/js/Pages/Ticket/Show.jsx"],"sourcesContent":["\nimport AuthenticatedLayout from '@/Layouts/AuthenticatedLayout';\nimport { Head, Link, useForm, usePage } from '@inertiajs/react';\nimport DeleteForm from '../Report/DeleteForm';\nimport { PaperClipIcon } from '@heroicons/react/20/solid'\nimport { useEffect } from 'react';\nimport SecondaryButton from '@/Components/SecondaryButton';\nimport PrimaryButton from '@/Components/PrimaryButton';\nimport TextInput from '@/Components/TextInput';\nimport InputLabel from '@/Components/InputLabel';\nimport InputError from '@/Components/InputError';\nexport default function Create({ auth }) {\n\n    const { report } = usePage().props\n\n    const { data, setData, put, processing, errors, reset } = useForm({\n        id: report.encrypted_id,\n        title: report.title,\n        comment: report.comment,\n        status: report.status,\n        status_display: report.status,\n        image: report.image\n    });\n\n    useEffect(() => {\n        const getImageSize = async () => {\n          try {\n            const response = await fetch(`../../uploads/${data.image}`);\n            if (response.ok) {\n              const blob = await response.blob();\n              const fileSizeInBytes = blob.size;\n              const fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);\n            //   console.log('Image size:', fileSizeInMegabytes, 'MB');\n              // Update state with image size\n              setData(prevData => ({\n                ...prevData,\n                imageSize: fileSizeInMegabytes\n              }));\n            } else {\n              console.error('Failed to fetch image:', response.statusText);\n            }\n          } catch (error) {\n            console.error('Error fetching image:', error);\n          }\n        };\n    \n        if (report.image) {\n          getImageSize();\n        }\n      }, []);\n\n    const submit = (e) => {\n        e.preventDefault()\n\n        put(route('ticket.update', data.id))\n    }\n\n    return (\n        <AuthenticatedLayout\n            user={auth.user}\n            // header={<h2 className=\"font-semibold text-xl text-gray-800 leading-tight\">To Do List</h2>}\n        >\n            <Head title=\"Report - Show\" />\n\n            <div className=\"py-12\">\n                <div className=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\n                    <div className=\"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6\">\n                        <form onSubmit={submit} >\n                            <div>\n                                <div className=\"px-4 sm:px-0\">\n                                    <h3 className=\"text-base font-semibold leading-7 text-gray-900\">Report Information</h3>\n                                </div>\n                                <div className=\"mt-6 border-t border-gray-100\">\n                                    <dl className=\"divide-y divide-gray-100\">\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Title</dt>\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">{ data.title }</dd>\n                                    </div>\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Comment</dt>\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">{ data.comment }</dd>\n                                    </div>\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Status </dt>\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n                                            { \n                                            data.status_display === 0 ? \n                                                <span className=\"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10\">\n                                                    Pending\n                                                </span> \n                                            : data.status_display === 1 ? \n                                                <span className=\"inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20\">\n                                                    Ongoing\n                                                </span> \n                                            : \n                                                <span className=\"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20\">\n                                                    Completed\n                                                </span>\n                                            }\n                                        </dd>\n                                    </div>\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Attachments</dt>\n                                        <dd className=\"mt-2 text-sm text-gray-900 sm:col-span-2 sm:mt-0\">\n                                        <ul role=\"list\" className=\"divide-y divide-gray-100 rounded-md border border-gray-200\">\n                                            <li className=\"flex items-center justify-between py-4 pl-4 pr-5 text-sm leading-6\">\n                                            <div className=\"flex w-0 flex-1 items-center\">\n                                                <PaperClipIcon className=\"h-5 w-5 flex-shrink-0 text-gray-400\" aria-hidden=\"true\" />\n                                                <div className=\"ml-4 flex min-w-0 flex-1 gap-2\">\n                                                <span className=\"truncate font-medium\">{ data.image }</span>\n                                                <span className=\"flex-shrink-0 text-gray-400\">\n                                                {data.imageSize && (\n                                                    <p>{data.imageSize.toFixed(2)} MB</p>\n                                                )}\n                                                </span>\n                                                </div>\n                                            </div>\n                                            <div className=\"ml-4 flex-shrink-0\">\n                                                <a href={`../../uploads/${data.image}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                                                Download\n                                                </a>\n                                            </div>\n                                            </li>\n                                        </ul>\n                                        </dd>\n                                    </div>\n                                    \n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Change Status </dt>\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\n                                        <div>\n                                                <select\n                                                    id=\"status\"\n                                                    name=\"status\"\n                                                    value={data.status}\n                                                    className=\"block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm \"\n                                                    autoComplete=\"status\"\n                                                    onChange={(e) => setData('status', e.target.value)}\n                                                    required\n                                                >\n                                                    <option> Select a section ...</option>\n                                                    <option value=\"0\"> Pending </option>\n                                                    <option value=\"1\"> Ongoing </option>\n                                                    <option value=\"2\"> Completed</option>\n                                                    \n                                                </select>\n\n                                                <InputError message={errors.status} className=\"mt-2\" />\n                                            </div>\n                                        </dd>\n                                    </div>\n                                    </dl>\n                                </div>\n                            </div>\n                            <div className=\"flex justify-between items-center\">\n                                <div></div>\n                                <div className='space-x-2'>\n                                    <Link href={route('report.index')}>\n                                        <SecondaryButton>Back</SecondaryButton>\n                                    </Link>\n                                    <PrimaryButton>Update</PrimaryButton>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </AuthenticatedLayout>\n    );\n}\n"],"names":["Create","auth","report","usePage","data","setData","put","processing","errors","reset","useForm","useEffect","getImageSize","response","fileSizeInMegabytes","prevData","error","submit","e","jsxs","AuthenticatedLayout","jsx","Head","PaperClipIcon","InputError","Link","SecondaryButton","PrimaryButton"],"mappings":"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"}