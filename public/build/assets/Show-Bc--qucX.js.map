{"version":3,"file":"Show-Bc--qucX.js","sources":["../../../resources/js/Pages/Ticket/Show.jsx"],"sourcesContent":["\r\nimport AuthenticatedLayout from '@/Layouts/AuthenticatedLayout';\r\nimport { Head, Link, useForm, usePage } from '@inertiajs/react';\r\nimport DeleteForm from '../Report/DeleteForm';\r\nimport { PaperClipIcon } from '@heroicons/react/20/solid'\r\nimport { useEffect } from 'react';\r\nimport SecondaryButton from '@/Components/SecondaryButton';\r\nimport PrimaryButton from '@/Components/PrimaryButton';\r\nimport TextInput from '@/Components/TextInput';\r\nimport InputLabel from '@/Components/InputLabel';\r\nimport InputError from '@/Components/InputError';\r\nexport default function Create({ auth }) {\r\n\r\n    const { report } = usePage().props\r\n\r\n    const { data, setData, put, processing, errors, reset } = useForm({\r\n        id: report.encrypted_id,\r\n        title: report.title,\r\n        comment: report.comment,\r\n        status: report.status,\r\n        status_display: report.status,\r\n        image: report.image\r\n    });\r\n\r\n    useEffect(() => {\r\n        const getImageSize = async () => {\r\n          try {\r\n            const response = await fetch(`../../uploads/${data.image}`);\r\n            if (response.ok) {\r\n              const blob = await response.blob();\r\n              const fileSizeInBytes = blob.size;\r\n              const fileSizeInMegabytes = fileSizeInBytes / (1024 * 1024);\r\n            //   console.log('Image size:', fileSizeInMegabytes, 'MB');\r\n              // Update state with image size\r\n              setData(prevData => ({\r\n                ...prevData,\r\n                imageSize: fileSizeInMegabytes\r\n              }));\r\n            } else {\r\n              console.error('Failed to fetch image:', response.statusText);\r\n            }\r\n          } catch (error) {\r\n            console.error('Error fetching image:', error);\r\n          }\r\n        };\r\n    \r\n        if (report.image) {\r\n          getImageSize();\r\n        }\r\n      }, []);\r\n\r\n    const submit = (e) => {\r\n        e.preventDefault()\r\n\r\n        put(route('ticket.update', data.id))\r\n    }\r\n\r\n    return (\r\n        <AuthenticatedLayout\r\n            user={auth.user}\r\n            // header={<h2 className=\"font-semibold text-xl text-gray-800 leading-tight\">To Do List</h2>}\r\n        >\r\n            <Head title=\"Report - Show\" />\r\n\r\n            <div className=\"py-12\">\r\n                <div className=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\r\n                    <div className=\"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6\">\r\n                        <form onSubmit={submit} >\r\n                            <div>\r\n                                <div className=\"px-4 sm:px-0\">\r\n                                    <h3 className=\"text-base font-semibold leading-7 text-gray-900\">Report Information</h3>\r\n                                </div>\r\n                                <div className=\"mt-6 border-t border-gray-100\">\r\n                                    <dl className=\"divide-y divide-gray-100\">\r\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\r\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Title</dt>\r\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">{ data.title }</dd>\r\n                                    </div>\r\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\r\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Comment</dt>\r\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">{ data.comment }</dd>\r\n                                    </div>\r\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\r\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Status </dt>\r\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n                                            { \r\n                                            data.status_display === 0 ? \r\n                                                <span className=\"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10\">\r\n                                                    Pending\r\n                                                </span> \r\n                                            : data.status_display === 1 ? \r\n                                                <span className=\"inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20\">\r\n                                                    Ongoing\r\n                                                </span> \r\n                                            : \r\n                                                <span className=\"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20\">\r\n                                                    Completed\r\n                                                </span>\r\n                                            }\r\n                                        </dd>\r\n                                    </div>\r\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\r\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Attachments</dt>\r\n                                        <dd className=\"mt-2 text-sm text-gray-900 sm:col-span-2 sm:mt-0\">\r\n                                        <ul role=\"list\" className=\"divide-y divide-gray-100 rounded-md border border-gray-200\">\r\n                                            <li className=\"flex items-center justify-between py-4 pl-4 pr-5 text-sm leading-6\">\r\n                                            <div className=\"flex w-0 flex-1 items-center\">\r\n                                                <PaperClipIcon className=\"h-5 w-5 flex-shrink-0 text-gray-400\" aria-hidden=\"true\" />\r\n                                                <div className=\"ml-4 flex min-w-0 flex-1 gap-2\">\r\n                                                <span className=\"truncate font-medium\">{ data.image }</span>\r\n                                                <span className=\"flex-shrink-0 text-gray-400\">\r\n                                                {data.imageSize && (\r\n                                                    <p>{data.imageSize.toFixed(2)} MB</p>\r\n                                                )}\r\n                                                </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"ml-4 flex-shrink-0\">\r\n                                                <a href={`../../uploads/${data.image}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\r\n                                                Download\r\n                                                </a>\r\n                                            </div>\r\n                                            </li>\r\n                                        </ul>\r\n                                        </dd>\r\n                                    </div>\r\n                                    \r\n                                    <div className=\"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0\">\r\n                                        <dt className=\"text-sm font-medium leading-6 text-gray-900\">Change Status </dt>\r\n                                        <dd className=\"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0\">\r\n                                        <div>\r\n                                                <select\r\n                                                    id=\"status\"\r\n                                                    name=\"status\"\r\n                                                    value={data.status}\r\n                                                    className=\"block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm \"\r\n                                                    autoComplete=\"status\"\r\n                                                    onChange={(e) => setData('status', e.target.value)}\r\n                                                    required\r\n                                                >\r\n                                                    <option> Select a section ...</option>\r\n                                                    <option value=\"0\"> Pending </option>\r\n                                                    <option value=\"1\"> Ongoing </option>\r\n                                                    <option value=\"2\"> Completed</option>\r\n                                                    \r\n                                                </select>\r\n\r\n                                                <InputError message={errors.status} className=\"mt-2\" />\r\n                                            </div>\r\n                                        </dd>\r\n                                    </div>\r\n                                    </dl>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <div></div>\r\n                                <div className='space-x-2'>\r\n                                    <Link href={route('report.index')}>\r\n                                        <SecondaryButton>Back</SecondaryButton>\r\n                                    </Link>\r\n                                    <PrimaryButton>Update</PrimaryButton>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </AuthenticatedLayout>\r\n    );\r\n}\r\n"],"names":["Create","auth","report","usePage","data","setData","put","processing","errors","reset","useForm","useEffect","getImageSize","response","fileSizeInMegabytes","prevData","error","submit","e","jsxs","AuthenticatedLayout","jsx","Head","PaperClipIcon","InputError","Link","SecondaryButton","PrimaryButton"],"mappings":"qiDAWwB,SAAAA,GAAO,CAAE,KAAAC,GAAQ,CAErC,KAAM,CAAE,OAAAC,CAAA,EAAWC,EAAA,EAAU,MAEvB,CAAE,KAAAC,EAAM,QAAAC,EAAS,IAAAC,EAAK,WAAAC,EAAY,OAAAC,EAAQ,MAAAC,GAAUC,EAAQ,CAC9D,GAAIR,EAAO,aACX,MAAOA,EAAO,MACd,QAASA,EAAO,QAChB,OAAQA,EAAO,OACf,eAAgBA,EAAO,OACvB,MAAOA,EAAO,KAAA,CACjB,EAEDS,EAAAA,UAAU,IAAM,CACZ,MAAMC,EAAe,SAAY,CAC3B,GAAA,CACF,MAAMC,EAAW,MAAM,MAAM,iBAAiBT,EAAK,KAAK,EAAE,EAC1D,GAAIS,EAAS,GAAI,CAGT,MAAAC,GAFO,MAAMD,EAAS,QACC,MACkB,KAAO,MAGtDR,EAAqBU,IAAA,CACnB,GAAGA,EACH,UAAWD,CACX,EAAA,CAAA,MAEM,QAAA,MAAM,yBAA0BD,EAAS,UAAU,QAEtDG,EAAO,CACN,QAAA,MAAM,wBAAyBA,CAAK,CAC9C,CAAA,EAGEd,EAAO,OACIU,GAEjB,EAAG,CAAE,CAAA,EAED,MAAAK,EAAUC,GAAM,CAClBA,EAAE,eAAe,EAEjBZ,EAAI,MAAM,gBAAiBF,EAAK,EAAE,CAAC,CAAA,EAInC,OAAAe,EAAA,KAACC,EAAA,CACG,KAAMnB,EAAK,KAGX,SAAA,CAACoB,EAAAA,IAAAC,EAAA,CAAK,MAAM,eAAgB,CAAA,EAE3BD,MAAA,MAAA,CAAI,UAAU,QACX,eAAC,MAAI,CAAA,UAAU,oCACX,SAAAA,EAAA,IAAC,OAAI,UAAU,uDACX,SAACF,OAAA,OAAA,CAAK,SAAUF,EACZ,SAAA,CAAAE,OAAC,MACG,CAAA,SAAA,CAACE,EAAAA,IAAA,MAAA,CAAI,UAAU,eACX,SAAAA,EAAA,IAAC,MAAG,UAAU,kDAAkD,8BAAkB,CACtF,CAAA,QACC,MAAI,CAAA,UAAU,gCACX,SAACF,EAAA,KAAA,KAAA,CAAG,UAAU,2BACd,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,oDACX,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,8CAA8C,SAAK,QAAA,EAChEA,EAAA,IAAA,KAAA,CAAG,UAAU,6DAA+D,WAAK,MAAO,CAAA,EAC7F,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,oDACX,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,8CAA8C,SAAO,UAAA,EAClEA,EAAA,IAAA,KAAA,CAAG,UAAU,6DAA+D,WAAK,QAAS,CAAA,EAC/F,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,oDACX,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,8CAA8C,SAAO,UAAA,EACnEA,EAAA,IAAC,KAAG,CAAA,UAAU,6DAEV,SAAAjB,EAAK,iBAAmB,EACnBiB,EAAAA,IAAA,OAAA,CAAK,UAAU,gIAAgI,SAEhJ,SAAA,CAAA,EACFjB,EAAK,iBAAmB,EACtBiB,EAAA,IAAC,OAAK,CAAA,UAAU,sIAAsI,SAAA,SAEtJ,CAAA,EAEAA,EAAAA,IAAC,OAAK,CAAA,UAAU,mIAAmI,SAAA,WAEnJ,CAAA,EAER,CAAA,EACJ,EACAF,EAAAA,KAAC,MAAI,CAAA,UAAU,oDACX,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,8CAA8C,SAAW,cAAA,EACtEA,MAAA,KAAA,CAAG,UAAU,mDACd,SAACA,EAAA,IAAA,KAAA,CAAG,KAAK,OAAO,UAAU,6DACtB,SAACF,EAAA,KAAA,KAAA,CAAG,UAAU,qEACd,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+BACX,SAAA,CAAAE,EAAA,IAACE,EAAc,CAAA,UAAU,sCAAsC,cAAY,OAAO,EAClFJ,EAAAA,KAAC,MAAI,CAAA,UAAU,iCACf,SAAA,CAAAE,EAAA,IAAC,OAAK,CAAA,UAAU,uBAAyB,SAAAjB,EAAK,MAAO,QACpD,OAAK,CAAA,UAAU,8BACf,SAAKA,EAAA,kBACD,IAAG,CAAA,SAAA,CAAKA,EAAA,UAAU,QAAQ,CAAC,EAAE,KAAA,CAAA,CAAG,CAErC,CAAA,CAAA,EACA,CAAA,EACJ,QACC,MAAI,CAAA,UAAU,qBACX,SAACiB,EAAA,IAAA,IAAA,CAAE,KAAM,iBAAiBjB,EAAK,KAAK,GAAI,OAAO,SAAS,IAAI,sBAAsB,UAAU,oDAAoD,oBAEhJ,CACJ,CAAA,CAAA,CACA,CAAA,CACJ,CAAA,EACA,CAAA,EACJ,EAEAe,EAAAA,KAAC,MAAI,CAAA,UAAU,oDACX,SAAA,CAACE,EAAA,IAAA,KAAA,CAAG,UAAU,8CAA8C,SAAc,iBAAA,EACzEA,MAAA,KAAA,CAAG,UAAU,6DACd,gBAAC,MACO,CAAA,SAAA,CAAAF,EAAA,KAAC,SAAA,CACG,GAAG,SACH,KAAK,SACL,MAAOf,EAAK,OACZ,UAAU,mGACV,aAAa,SACb,SAAWc,GAAMb,EAAQ,SAAUa,EAAE,OAAO,KAAK,EACjD,SAAQ,GAER,SAAA,CAAAG,EAAAA,IAAC,UAAO,SAAqB,uBAAA,CAAA,EAC5BA,EAAA,IAAA,SAAA,CAAO,MAAM,IAAI,SAAS,YAAA,EAC1BA,EAAA,IAAA,SAAA,CAAO,MAAM,IAAI,SAAS,YAAA,EAC1BA,EAAA,IAAA,SAAA,CAAO,MAAM,IAAI,SAAU,aAAA,CAAA,CAAA,CAEhC,QAECG,EAAW,CAAA,QAAShB,EAAO,OAAQ,UAAU,OAAO,CAAA,CAAA,CACzD,CACJ,CAAA,CAAA,EACJ,CAAA,CAAA,CACA,CACJ,CAAA,CAAA,EACJ,EACAW,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACX,SAAA,CAAAE,EAAA,IAAC,MAAI,EAAA,EACLF,EAAAA,KAAC,MAAI,CAAA,UAAU,YACX,SAAA,CAACE,EAAAA,IAAAI,EAAA,CAAK,KAAM,MAAM,cAAc,EAC5B,SAACJ,EAAAA,IAAAK,EAAA,CAAgB,gBAAI,CACzB,CAAA,EACAL,EAAAA,IAACM,GAAc,SAAM,QAAA,CAAA,CAAA,EACzB,CAAA,EACJ,CAAA,EACJ,CAAA,CACJ,CACJ,CAAA,EACJ,CAAA,CAAA,CAAA,CAGZ"}