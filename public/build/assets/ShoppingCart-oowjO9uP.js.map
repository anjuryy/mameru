{"version":3,"file":"ShoppingCart-oowjO9uP.js","sources":["../../../resources/js/Pages/Shop/ShoppingCart.jsx"],"sourcesContent":["import { Fragment, useState } from 'react'\nimport { Dialog, Transition } from '@headlessui/react'\nimport { XMarkIcon } from '@heroicons/react/24/outline'\nimport PrimaryButton from '@/Components/PrimaryButton'\nimport { Link } from '@inertiajs/react'\n\nconst products = [\n  {\n    id: 1,\n    name: 'Throwback Hip Bag',\n    href: '#',\n    color: 'Salmon',\n    price: '$90.00',\n    quantity: 1,\n    imageSrc: 'https://tailwindui.com/img/ecommerce-images/shopping-cart-page-04-product-01.jpg',\n    imageAlt: 'Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.',\n  },\n  {\n    id: 2,\n    name: 'Medium Stuff Satchel',\n    href: '#',\n    color: 'Blue',\n    price: '$32.00',\n    quantity: 1,\n    imageSrc: 'https://tailwindui.com/img/ecommerce-images/shopping-cart-page-04-product-02.jpg',\n    imageAlt:\n      'Front of satchel with blue canvas body, black straps and handle, drawstring top, and front zipper pouch.',\n  },\n  // More products...\n]\n\nexport default function ShoppingCart({openCart, setOpenCart, purchases, userCurrencySetting})\n{\n    // console.log(purchases);\n//   const [openCart, setOpenCart] = useState(true)\n// Math.floor(parseInt((item.products.price).toLocaleString()) / parseInt(userCurrencySetting[0]['currency_converters'].value))}\n  const totalPrices = purchases.map(item => (item.products.price / parseInt(userCurrencySetting[0]['currency_converters'].value)) * item.quantity);\n\n  const totalPrice = totalPrices.reduce((acc, curr) => parseInt(acc) + parseInt(curr), 0).toLocaleString();\n\n  return (\n    <Transition.Root show={openCart} as={Fragment}>\n      <Dialog as=\"div\" className=\"relative z-10\" onClose={setOpenCart}>\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-in-out duration-500\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in-out duration-500\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0 overflow-hidden\">\n          <div className=\"absolute inset-0 overflow-hidden\">\n            <div className=\"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10\">\n              <Transition.Child\n                as={Fragment}\n                enter=\"transform transition ease-in-out duration-500 sm:duration-700\"\n                enterFrom=\"translate-x-full\"\n                enterTo=\"translate-x-0\"\n                leave=\"transform transition ease-in-out duration-500 sm:duration-700\"\n                leaveFrom=\"translate-x-0\"\n                leaveTo=\"translate-x-full\"\n              >\n                <Dialog.Panel className=\"pointer-events-auto w-screen max-w-md\">\n                  <div className=\"flex h-full flex-col overflow-y-scroll bg-white shadow-xl\">\n                    <div className=\"flex-1 overflow-y-auto px-4 py-6 sm:px-6\">\n                      <div className=\"flex items-start justify-between\">\n                        <Dialog.Title className=\"text-lg font-medium text-gray-900\">Shopping cart</Dialog.Title>\n                        <div className=\"ml-3 flex h-7 items-center\">\n                          <button\n                            type=\"button\"\n                            className=\"relative -m-2 p-2 text-gray-400 hover:text-gray-500\"\n                            onClick={() => setOpenCart(false)}\n                          >\n                            <span className=\"absolute -inset-0.5\" />\n                            <span className=\"sr-only\">Close panel</span>\n                            <XMarkIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\n                          </button>\n                        </div>\n                      </div>\n\n                      <div className=\"mt-8\">\n                        <div className=\"flow-root\">\n                          <ul role=\"list\" className=\"-my-6 divide-y divide-gray-200\">\n                            {purchases.map((product) => (\n                              <li key={product.id} className=\"flex py-6\">\n                                <div className=\"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n                                  <img\n                                    src={\"../images/\"+ product.products.images[0].filename}\n                                    // alt={product.imageAlt}\n                                    className=\"h-full w-full object-cover object-center\"\n                                  />\n                                </div>\n\n                                <div className=\"ml-4 flex flex-1 flex-col\">\n                                  <div>\n                                    <div className=\"flex justify-between text-base font-medium text-gray-900\">\n                                      <h3>\n                                        <Link\n                                            href={route('product.show', product.id)}\n                                        >\n                                            {product.products.name}\n                                        </Link>\n                                      </h3>\n                                      <p className=\"ml-4\">{ userCurrencySetting[0]['currency_converters'].symbol }{Math.floor(parseInt((product.products.price).toLocaleString()) / parseInt(userCurrencySetting[0]['currency_converters'].value))}</p>\n                                    </div>\n                                    <p className=\"mt-1 text-sm text-gray-500\">{product.products.description}</p>\n                                  </div>\n                                  <div className=\"flex flex-1 items-end justify-between text-sm\">\n                                    <p className=\"text-gray-500\">Qty: {product.quantity}</p>\n\n                                    <div className=\"flex\">\n\n                                      <Link\n                                        href={route('purchase.destroy', product.id)}\n                                        method=\"delete\"\n                                        as=\"button\"\n                                        className=\"font-medium text-indigo-600 hover:text-indigo-500\"\n                                      >\n                                        Remove\n                                      </Link>\n                                    </div>\n                                  </div>\n                                </div>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"border-t border-gray-200 px-4 py-6 sm:px-6\">\n                      <div className=\"flex justify-between text-base font-medium text-gray-900\">\n                        <p>Subtotal</p>\n                        <p>{ userCurrencySetting[0]['currency_converters'].symbol }{ totalPrice }</p>\n                      </div>\n                      <p className=\"mt-0.5 text-sm text-gray-500\">Shipping calculated at checkout.</p>\n                      <div className=\"mt-6\">\n                        {/* <a\n                          href=\"#\"\n                          className=\"flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700\"\n                        >\n                          Checkout\n                        </a> */}\n                        <Link\n                            href={route('purchase.index')}\n                        >\n                            <PrimaryButton\n                                className='w-full flex items-center justify-center rounded-md border border-transparent px-6 py-3 text-base font-medium shadow-sm'\n                            >\n                                Checkout\n                            </PrimaryButton>\n                        </Link>\n                      </div>\n                      <div className=\"mt-6 flex justify-center text-center text-sm text-gray-500\">\n                        <p>\n                          or{' '}\n                          <button\n                            type=\"button\"\n                            className=\"font-medium text-indigo-600 hover:text-indigo-500\"\n                            onClick={() => setOpenCart(false)}\n                          >\n                            Continue Shopping\n                            <span aria-hidden=\"true\"> &rarr;</span>\n                          </button>\n                        </p>\n                      </div>\n\n                    </div>\n                  </div>\n                </Dialog.Panel>\n              </Transition.Child>\n            </div>\n          </div>\n        </div>\n      </Dialog>\n    </Transition.Root>\n  )\n}\n"],"names":["ShoppingCart","openCart","setOpenCart","purchases","userCurrencySetting","totalPrice","item","acc","curr","jsx","Transition","Fragment","jsxs","Dialog","XMarkIcon","product","Link","PrimaryButton"],"mappings":"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"}