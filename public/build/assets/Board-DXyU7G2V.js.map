{"version":3,"file":"Board-DXyU7G2V.js","sources":["../../../resources/js/Pages/Kanban/Board.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport BurnBarrel from \"./BurnBarrel\";\nimport Column from \"./Column\";\nimport AddColumn from \"./AddColumn\";\nimport { usePage, useForm } from '@inertiajs/react'\nimport { useEffect } from \"react\";\n\nconst Board = () => {\n    const nice = usePage().props\n    const { board } = usePage().props\n    const { card } = usePage().props\n    const { board_encrypted_id } = usePage().props\n\n    // console.log(nice);\n    const DEFAULT_CARDS_WITH_STRING_ID = card.map(card => ({\n        ...card,\n        id: card.id.toString()\n    }));\n\n    // const [allColumnlist, setAllColumn] = useState([])\n\n    // useEffect(() => {\n    //     const getColumns = async () => {\n    //         try {\n    //             const getres = await fetch(`http://localhost:8000/api/column/${board_encrypted_id}`);\n    //             const setusers = await getres.json();\n    //             // console.log(setusers.result);\n    //             setAllColumn(setusers);\n    //         } catch (error) {\n    //             console.error('Error fetching data:', error);\n    //         }\n    //     };\n\n    //     // Call getusers immediately when component mounts\n    //     getColumns();\n\n    //     // Set up interval to call getusers every second\n    //     const intervalId = setInterval(getColumns, 1000);\n\n    //     // Clean up the interval on component unmount\n    //     return () => clearInterval(intervalId);\n    // }, [board_encrypted_id]);\n\n    const [cards, setCards] = useState(DEFAULT_CARDS_WITH_STRING_ID);\n    const [columns, setColumns] = useState(board);\n\n    const { data, post } = useForm({\n        title: '',\n        temp_id: ''\n    })\n\n    const addColumn = (title) => {\n        let temp_id = title.length + Date.now().toString()\n        data.title = title\n        data.temp_id = temp_id\n\n        post(route('board.storeColumn', board_encrypted_id));\n\n        const newColumn = { title, temp_id: temp_id };\n        setColumns([...columns, newColumn]);\n    };\n\n    return (\n        <div className=\"flex h-full w-full gap-3 p-12\">\n            {columns.map((column) => (\n                <Column\n                key={column.temp_id}\n                title={column.title}\n                column={column.id}\n                headingColor=\"text-neutral-500\"\n                cards={cards}\n                setCards={setCards}\n                columns={ setColumns }\n                temp_id={column.temp_id}\n                />\n            ))}\n            <AddColumn addColumn={addColumn} />\n            <BurnBarrel setCards={setCards} />\n        </div>\n    );\n};\n\nconst DEFAULT_COLUMNS = [\n    // { title: \"Backlog\", id: \"1\" },\n    // { title: \"TODO\", id: \"2\" },\n    // { title: \"In progress\", id: \"3\" },\n    // { title: \"Complete\", id: \"4\" },\n    { title: \"Sample\", id: 1 },\n    { title: \"Sample2\", id: 2 }\n];\n\nconst DEFAULT_CARDS = [\n    { board_id: 2, by_user_id: 2, card_id: 1, column: 1, id: 1 ,title: \"Nice\" },\n    { board_id: 2, by_user_id: 2, card_id: 2, column: 1, id: 2 ,title: \"New\" },\n    // { title: \"Nice\", id: \"1\", column: \"1\"},\n    // { title: \"New\", id: \"2\", column: \"1\"}\n    // // BACKLOG\n    // { title: \"Look into render bug in dashboard\", id: \"1\", column: \"1\" },\n    // { title: \"SOX compliance checklist\", id: \"2\", column: \"1\" },\n    // { title: \"[SPIKE] Migrate to Azure\", id: \"3\", column: \"1\" },\n    // { title: \"Document Notifications service\", id: \"4\", column: \"1\" },\n    // // TODO\n    // {\n    //   title: \"Research DB options for new microservice\", id: \"5\", column: \"2\",\n    // },\n    // { title: \"Postmortem for outage\", id: \"6\", column: \"2\" },\n    // { title: \"Sync with product on Q3 roadmap\", id: \"7\", column: \"2\" },\n\n    // // DOING\n    // {\n    //   title: \"Refactor context providers to use Zustand\",\n    //   id: \"8\",\n    //   column: \"3\",\n    // },\n    // { title: \"Add logging to daily CRON\", id: \"9\", column: \"3\" },\n    // // DONE\n    // {\n    //   title: \"Set up DD dashboards for Lambda listener\",\n    //   id: \"10\",\n    //   column: \"4\",\n    // },\n];\n\nexport default Board\n"],"names":["Board","usePage","board","card","board_encrypted_id","DEFAULT_CARDS_WITH_STRING_ID","cards","setCards","useState","columns","setColumns","data","post","useForm","addColumn","title","temp_id","newColumn","jsxs","column","jsx","Column","AddColumn","BurnBarrel"],"mappings":"kuDAOA,MAAMA,GAAQ,IAAM,CACHC,EAAU,EAAA,MACvB,KAAM,CAAE,MAAAC,CAAA,EAAUD,EAAA,EAAU,MACtB,CAAE,KAAAE,CAAA,EAASF,EAAA,EAAU,MACrB,CAAE,mBAAAG,CAAA,EAAuBH,EAAA,EAAU,MAGnCI,EAA+BF,EAAK,IAAIA,IAAS,CACnD,GAAGA,EACH,GAAIA,EAAK,GAAG,SAAS,CACvB,EAAA,EA0BI,CAACG,EAAOC,CAAQ,EAAIC,WAASH,CAA4B,EACzD,CAACI,EAASC,CAAU,EAAIF,WAASN,CAAK,EAEtC,CAAE,KAAAS,EAAM,KAAAC,CAAK,EAAIC,EAAQ,CAC3B,MAAO,GACP,QAAS,EAAA,CACZ,EAEKC,EAAaC,GAAU,CACzB,IAAIC,EAAUD,EAAM,OAAS,KAAK,IAAA,EAAM,WACxCJ,EAAK,MAAQI,EACbJ,EAAK,QAAUK,EAEVJ,EAAA,MAAM,oBAAqBR,CAAkB,CAAC,EAE7C,MAAAa,EAAY,CAAE,MAAAF,EAAO,QAAAC,GAC3BN,EAAW,CAAC,GAAGD,EAASQ,CAAS,CAAC,CAAA,EAIlC,OAAAC,EAAA,KAAC,MAAI,CAAA,UAAU,gCACV,SAAA,CAAQT,EAAA,IAAKU,GACVC,EAAA,IAACC,EAAA,CAED,MAAOF,EAAO,MACd,OAAQA,EAAO,GACf,aAAa,mBACb,MAAAb,EACA,SAAAC,EACA,QAAUG,EACV,QAASS,EAAO,OAAA,EAPXA,EAAO,OAAA,CASf,EACDC,MAACE,GAAU,UAAAR,EAAsB,EACjCM,MAACG,GAAW,SAAAhB,EAAoB,CACpC,CAAA,CAAA,CAER"}