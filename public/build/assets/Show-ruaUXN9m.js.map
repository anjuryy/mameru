{"version":3,"file":"Show-ruaUXN9m.js","sources":["../../../resources/js/Pages/Shop/Show.jsx"],"sourcesContent":["import Box from \"@/Components/Box\";\nimport AuthenticatedLayout from \"@/Layouts/AuthenticatedLayout\";\nimport { Link, useForm, usePage } from \"@inertiajs/react\";\nimport ShopNavLink from \"./ShopNavLink\";\nimport SecondaryButton from \"@/Components/SecondaryButton\";\nimport { HeartIcon } from \"@heroicons/react/24/outline\";\nimport InputLabel from \"@/Components/InputLabel\";\nimport TextInput from \"@/Components/TextInput\";\nimport { MinusIcon, PlusIcon } from \"@heroicons/react/20/solid\";\nimport { useEffect, useState } from \"react\";\nimport PrimaryButton from \"@/Components/PrimaryButton\";\nimport InputError from \"@/Components/InputError\";\nimport Alert from \"@/Components/Alert\";\n\nexport default function Show({ auth, flash })\n{\n    const { product_detail } = usePage().props\n    const { category } = usePage().props\n    const { products } = usePage().props\n    const { purchases } = usePage().props\n    const { user_currency_setting } = usePage().props\n\n    var disableButton = ''\n    var disableButtonMessage = ''\n\n    const { data, setData, post, errors } = useForm({\n        quantity: '',\n    });\n\n    const [count, setCount] = useState(0);\n\n    const handleIncrement = () => {\n        if (count < product_detail.quantity) {\n            setCount(count + 1);\n            setData('quantity', count + 1); // Update quantity in form data\n        }\n    };\n\n    const handleDecrement = () => {\n        if (count > 0) {\n            setCount(count - 1);\n            setData('quantity', count - 1); // Update quantity in form data\n        }\n    };\n\n    const submit = (e) => {\n        e.preventDefault()\n\n        post(route('purchase.store', product_detail.id ));\n    }\n\n    return (\n        <AuthenticatedLayout\n            user={ auth.user }\n        >\n\n            <ShopNavLink category={ category } products={ products } purchases={ purchases } userCurrencySetting={ user_currency_setting }/>\n\n            <Alert flash={ flash } />\n\n            <div className=\"py-12\">\n                <div className=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\n                    <div className=\"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6\">\n                        <div className=\"flex flex-col-reverse md:grid md:grid-cols-2 gap-4\">\n                            <Box className=\"md:col-span-7 flex items-center\">\n                                <div className=\"grid grid-cols-2 gap-1\">\n                                    {\n                                        product_detail.images.map(e => (\n                                            <img\n                                                className=\"w-60 h-60\"\n                                                key={ e.id }\n                                                src={\"../images/\" + e.filename}\n                                            />\n                                        ))\n                                    }\n                                </div>\n\n                            </Box>\n                            {/* <EmptyState v-else class=\"md:col-span-7 flex items-center\">No images</EmptyState> */}\n                            <div className=\"md:col-span-1 flex flex-col gap-4\">\n                                <Box>\n                                    Product info\n\n\n                                    <div className=\"text-lg pt-2\">\n                                        { product_detail.name }\n                                    </div>\n                                    <div className=\"text-gray-500\">\n                                        { product_detail.description }\n                                    </div>\n\n                                    <div className=\"text-2xl font-bold pt-4\">\n                                        { user_currency_setting[0]['currency_converters'].symbol } { Math.floor(parseInt(product_detail.price) * user_currency_setting[0]['currency_converters'].value) }\n                                        {/* â‚± { product_detail.price } */}\n                                    </div>\n\n                                    <div className=\"pt-4 pb-4\">\n                                        <span className=\"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20\">\n                                            Stock: { product_detail.quantity }\n                                        </span>\n                                    </div>\n\n                                    <form onSubmit={submit}>\n                                        <div className=\"flex justify-start items-center gap-2\">\n\n                                        <InputLabel htmlFor=\"quantity\" value=\"Quantity\" />\n\n                                            <div onClick={handleDecrement}><MinusIcon className=\"w-4 cursor-pointer\"/></div>\n                                                <TextInput\n                                                    id=\"quantity\"\n                                                    name=\"quantity\"\n                                                    type=\"text\"\n                                                    className=\"w-16\"\n                                                    value={ count }\n                                                    onChange={(e) => setData('quantity', e.target.value)}\n                                                    style={{ textAlign: 'center' }}\n                                                >\n                                                </TextInput>\n                                            <div onClick={handleIncrement}><PlusIcon className=\"w-4 cursor-pointer\"/></div>\n\n                                            <InputError message={errors.quantity} className=\"mt-2\"/>\n                                        </div>\n\n                                        <div className=\"mt-4 text-red-600 italic text-sm\">\n                                            {\n                                                product_detail.by_user_id == auth.user.id\n                                                    ?\n                                                disableButton = '* This is your product'\n                                                    :\n                                                disableButton = ''\n                                            }\n                                        </div>\n                                        <div\n                                            // href={route('')}\n                                            className=\"mt-4 w-full flex items-center justify-center gap-2\"\n                                        >\n                                            <PrimaryButton className=\"w-4/6 items-center justify-center hover:bg-gray-800 hover:text-white\" disabled={disableButton}>\n                                                Add to cart\n                                            </PrimaryButton>\n\n                                            <SecondaryButton className=\"w-2/6 items-center justify-center hover:bg-gray-200 hover:text-black\" disabled={disableButton}>\n                                                <HeartIcon className=\"w-4\"/>\n                                            </SecondaryButton>\n\n                                        </div>\n                                    </form>\n\n                                    {/* <Price :price=\"listing.price\" class=\"text-2xl font-bold\" />\n                                    <ListingSpace :listing=\"listing\" class=\"text-lg\" />\n                                    <ListingAddress :listing=\"listing\" class=\"text-gray-500\" /> */}\n                                </Box>\n\n                                {/* <Box> */}\n\n                                    {/* <div>\n                                        <label class=\"label\">Interest Rate ({{ interestRate }}%)</label>\n                                        <input v-model.number=\"interestRate\" type=\"range\" min=\"0.1\" max=\"30\" step=\"0.1\" class=\"w-full h-4 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\" />\n\n                                        <label class=\"label\">Duration ({{ duration }})</label>\n                                        <input v-model.number=\"duration\" type=\"range\" min=\"3\" max=\"35\" step=\"1\" class=\"w-full h-4 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700\" />\n\n                                        <div class=\"text-gray-600 dark:text-gray-300 mt-2\">\n                                            <div class=\"text-gray-400\">\n                                                Your monthly payment\n                                            </div>\n                                            <Price :price=\"monthlyPayment\" class=\"text-3xl\"/>\n                                        </div>\n\n                                        <div class=\"mt-2 text-gray-500\">\n                                            <div class=\"flex justify-between\">\n                                            <div>Total paid</div>\n                                            <div>\n                                                <Price :price=\"totalPaid\" class=\"font-medium\" />\n                                            </div>\n                                            </div>\n                                            <div class=\"flex justify-between\">\n                                            <div>Principal paid</div>\n                                            <div>\n                                                <Price :price=\"listing.price\" class=\"font-medium\" />\n                                            </div>\n                                            </div>\n                                            <div class=\"flex justify-between\">\n                                            <div>Interest paid</div>\n                                            <div>\n                                                <Price :price=\"totalInterest\" class=\"font-medium\" />\n                                            </div>\n                                            </div>\n                                        </div>\n\n                                    </div> */}\n                                {/* </Box> */}\n\n                                {/* <MakeOffer\n                                    v-if=\"user && !offerMade\"\n                                    @offer-updated=\"offer = $event\"\n                                    :listing-id=\"listing.id\"\n                                    :price=\"listing.price\"\n                                />\n                                <OfferMade\n                                    v-if=\"user && offerMade\"\n                                    :offer=\"offerMade\"\n                                /> */}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </AuthenticatedLayout>\n    )\n}\n"],"names":["Show","auth","flash","product_detail","usePage","category","products","purchases","user_currency_setting","disableButton","data","setData","post","errors","useForm","count","setCount","useState","handleIncrement","handleDecrement","submit","e","jsxs","AuthenticatedLayout","jsx","ShopNavLink","Alert","Box","InputLabel","MinusIcon","TextInput","PlusIcon","InputError","PrimaryButton","SecondaryButton","HeartIcon"],"mappings":"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"}